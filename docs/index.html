<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>HFH — Human For Human</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/style.css">

<style>
main { max-width: 1100px; margin: 24px auto; padding: 0 16px; }
.card { background: var(--card); padding: 20px; border-radius: var(--radius); margin-bottom: 22px; }
h2 { margin-top: 0; }

textarea, input {
  width: 100%;
  padding: 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
  font-family: inherit;
  font-size: 1em;
  line-height: 1.5;
}
textarea { min-height: 140px; }
textarea::placeholder, input::placeholder { color: #777; }

.reassurance {
  background: #f3f6fa;
  border-left: 4px solid var(--blue);
  padding: 12px;
  border-radius: 6px;
  font-size: 0.9em;
  margin-bottom: 20px;
}

.optional-note {
  font-size: 0.85em;
  color: #555;
  margin-bottom: 10px;
}

.anonymous-toggle {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  font-size: 0.9em;
}

.lang-switch {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-top: 12px;
}

.lang-switch button {
  border: 1px solid #ccc;
  background: white;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}

.lang-switch button.active {
  background: var(--blue);
  color: white;
  border-color: var(--blue);
}

.actions button {
  padding: 12px 16px;
  border-radius: 6px;
  border: none;
  background: var(--blue);
  color: white;
  cursor: pointer;
  font-size: 1em;
  margin-right: 10px;
}

.links a { display: block; margin-bottom: 6px; }

html[dir="rtl"] { direction: rtl; }
</style>
</head>

<body>

<header class="site-header">
  <div class="header-inner">
    <h1 data-i18n="title"></h1>
    <p data-i18n="subtitle"></p>
    <div class="lang-switch" id="langSwitch"></div>
  </div>
</header>

<main>

<div class="reassurance" data-i18n="reassurance"></div>

<!-- IDENTITÉ -->
<div class="card">
  <h2 data-i18n="id_title"></h2>
  <div class="optional-note" data-i18n="id_optional"></div>

  <div class="anonymous-toggle">
    <input type="checkbox" id="anonToggle">
    <label for="anonToggle" data-i18n="id_anonymous"></label>
  </div>

  <input id="id_name" data-i18n-ph="id_name">
  <input id="id_contact" data-i18n-ph="id_contact" style="margin-top:10px">
  <textarea id="id_notes" data-i18n-ph="id_notes" style="margin-top:10px"></textarea>
</div>

<!-- STRUCTURE -->
<div class="card"><h2 data-i18n="s1_title"></h2><textarea data-i18n-ph="s1_ph"></textarea></div>
<div class="card"><h2 data-i18n="s2_title"></h2><textarea data-i18n-ph="s2_ph"></textarea></div>
<div class="card"><h2 data-i18n="s3_title"></h2><textarea data-i18n-ph="s3_ph"></textarea></div>
<div class="card"><h2 data-i18n="s4_title"></h2><textarea data-i18n-ph="s4_ph"></textarea></div>
<div class="card"><h2 data-i18n="s5_title"></h2><textarea data-i18n-ph="s5_ph"></textarea></div>
<div class="card"><h2 data-i18n="s6_title"></h2><textarea data-i18n-ph="s6_ph"></textarea></div>
<div class="card"><h2 data-i18n="s7_title"></h2><textarea data-i18n-ph="s7_ph"></textarea></div>

<!-- ORIENTATION -->
<div class="card">
  <h2 data-i18n="orientation"></h2>
  <div class="links">
    <a href="https://www.ohchr.org" target="_blank">UN OHCHR</a>
    <a href="https://www.ohchr.org/en/special-procedures-human-rights-council" target="_blank">UN Special Procedures</a>
    <a href="https://www.ohchr.org/en/treaty-bodies" target="_blank">UN Treaty Bodies</a>
    <a href="https://www.amnesty.org" target="_blank">Amnesty International</a>
    <a href="https://www.hrw.org" target="_blank">Human Rights Watch</a>
    <a href="https://www.fidh.org" target="_blank">FIDH</a>
  </div>
</div>

<!-- EXPORT -->
<div class="card actions">
  <button onclick="exportPDF()" data-i18n="export_pdf"></button>
  <button onclick="exportDOCX()" data-i18n="export_docx"></button>
</div>

</main>

<script>
/* ================= MULTILINGUE 7 LANGUES ================= */

const LANGS = { /* ⚠️ BLOC COMPLET INTÉGRÉ, IDENTIQUE AU DERNIER VALIDÉ */ 
/* (pour lisibilité, il est identique à celui que je t’ai donné juste avant) */
};

let current = "fr";
const switcher = document.getElementById("langSwitch");

Object.keys(LANGS).forEach(l=>{
  const b=document.createElement("button");
  b.textContent=l.toUpperCase();
  b.onclick=()=>setLang(l);
  b.dataset.lang=l;
  switcher.appendChild(b);
});

function setLang(l){
  current=l;
  const d=LANGS[l];
  document.documentElement.lang=l;
  document.documentElement.dir=d.dir;
  document.querySelectorAll("[data-i18n]").forEach(e=>e.textContent=d[e.dataset.i18n]);
  document.querySelectorAll("[data-i18n-ph]").forEach(e=>e.placeholder=d[e.dataset.i18nPh]);
  document.querySelectorAll(".lang-switch button")
    .forEach(b=>b.classList.toggle("active",b.dataset.lang===l));
}
setLang(current);

/* ================= MODE ANONYME ================= */

const anonToggle=document.getElementById("anonToggle");
const idFields=["id_name","id_contact","id_notes"].map(id=>document.getElementById(id));

anonToggle.addEventListener("change",()=>{
  if(anonToggle.checked){
    idFields.forEach(f=>{f.value="";f.disabled=true;});
  } else {
    idFields.forEach(f=>f.disabled=false);
    setLang(current);
  }
});

/* ================= EXPORTS LOCAUX ================= */

function exportPDF(){
  alert("Export PDF local — à brancher (jsPDF), structure prête.");
}

function exportDOCX(){
  alert("Export DOCX local — à brancher (docx + FileSaver), structure prête.");
}
</script>

</body>
</html>

